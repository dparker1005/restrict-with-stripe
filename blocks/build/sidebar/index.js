(()=>{"use strict";const t=window.wp.element;!function(e){const{registerPlugin:n}=e.plugins,{PluginDocumentSettingPanel:r}=e.editPost,{Component:o}=e.element,{SelectControl:i,Spinner:s}=e.components,{withSelect:a,withDispatch:c}=e.data,{compose:l}=e.compose,u=l(c((function(t,e){return{setMetaValue:function(n){t("core/editor").editPost({meta:{[e.metaKey]:n}})}}})),a((function(t,e){return{metaValue:t("core/editor").getEditedPostAttribute("meta")[e.metaKey]}})))((function(e){return(0,t.createElement)(i,{type:"text",label:e.label,value:e.metaValue,onChange:t=>{e.setMetaValue(t)},options:[{label:"-- Not Restricted --",value:""}].concat(e.products.map((t=>({label:t.name,value:t.id}))))})}));n("mrwstripe-sidebar",{icon:"lock",render:class extends o{constructor(t){super(t),this.state={productList:[],loadingProducts:!0}}componentDidMount(){this.fetchProducts()}fetchProducts(){e.apiFetch({path:"rwstripe/v1/products"}).then((t=>{this.setState({productList:t,loadingProducts:!1})}))}render(){return(0,t.createElement)(r,{name:"rwstripe-sidebar-panel",title:"Restrict With Stripe"},this.state.loadingProducts?(0,t.createElement)(s,null):(0,t.createElement)(u,{label:"Stripe Product",metaKey:"rwstripe_stripe_product_ids",products:this.state.productList}))}}})}(window.wp)})();